# База данных SQLite

В этой директории находятся файлы для работы с базой данных SQLite.

## Структура

- `db.ts` - Инициализация подключения к базе данных
- `schema.ts` - Схема базы данных (создание таблиц)
- `migration.ts` - Скрипты для миграции данных из JSON в SQLite
- `api/` - API для работы с данными в базе
- `adapters/` - Адаптеры для совместимости старого кода с новой базой

## Миграция данных из JSON в SQLite

Есть два способа выполнить миграцию данных:

### 1. Через административную панель

1. Зайдите в административную панель сайта
2. Перейдите в раздел "База данных"
3. Нажмите кнопку "Запустить миграцию"
4. Дождитесь завершения процесса

### 2. Через командную строку

```bash
npm run migrate-to-sqlite
```

или

```bash
ts-node scripts/migrate-to-sqlite.ts
```

## Структура базы данных

### Основные таблицы:

- `users` - Пользователи системы
- `specialists` - Специалисты центра
- `services` - Услуги
- `articles` - Статьи и новости
- `reviews` - Отзывы
- `appointments` - Записи на услуги

### Таблицы связей:

- `specialist_services` - Связь специалистов с услугами
- `specialist_positions` - Дополнительные должности специалистов
- `specialist_documents` - Документы специалистов
- `article_tags` - Теги статей

## Резервное копирование

Для создания резервной копии базы данных:

```bash
# Будет доступно в следующих версиях
```

## Информация о реализации

База данных SQLite расположена в файле:
- `src/database/vdohnovenie.db`

Чтобы полностью сбросить базу данных, достаточно удалить этот файл и перезапустить приложение или миграцию. 